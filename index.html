<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>SBI Fraud Detection</title>
  <link rel="stylesheet" href="styles.css">

  <!-- AOS Animation Library CSS -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css" rel="stylesheet">
  
  
    <style>
      .trusted-by {
        padding: 60px 0;
        background-color: #f5f7ff;
        text-align: center;
      }
      
      .trusted-by h2 {
        font-size: 36px;
        font-weight: 700;
        margin-bottom: 40px;
        color: #333;
      }
      
      .client-logos {
        display: flex;
        justify-content: center;
        flex-wrap: wrap;
        gap: 25px;
      }
      
      .client-logo {
        width: 160px;
        height: 90px;
        background-color: #f0efea;
        border-radius: 8px;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        transition: all 0.3s ease;
        padding: 10px;
      }
      
      .industry-label {
        font-weight: 600;
        color: #555;
        font-size: 14px;
        margin-top: 8px;
      }
      
      .client-logo:hover {
        background-color: #e6e5e0;
        transform: translateY(-3px);
        box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      }
      
      .future-vision {
        margin-top: 30px;
        font-size: 18px;
        color: #666;
      }
      
      /* Responsive adjustments */
      @media (max-width: 768px) {
        .client-logos {
          gap: 15px;
        }
        
        .client-logo {
          width: 130px;
          height: 75px;
        }
        
        .industry-label {
          font-size: 12px;
        }
      }
    
      /* Sign-in Modal Styles */
      .modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
        z-index: 1000;
        justify-content: center;
        align-items: center;
      }
      
      .modal-content {
        background-color: #fff;
        border-radius: 8px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
        width: 400px;
        max-width: 90%;
        position: relative;
        animation: modalFadeIn 0.3s;
      }
      
      @keyframes modalFadeIn {
        from { opacity: 0; transform: translateY(-20px); }
        to { opacity: 1; transform: translateY(0); }
      }
      
      .modal-header {
        padding: 20px;
        border-bottom: 1px solid #eee;
        position: relative;
      }
      
      .modal-header h2 {
        margin: 0;
        color: #333;
        font-size: 24px;
        text-align: center;
      }
      
      .close-btn {
        position: absolute;
        top: 20px;
        right: 20px;
        font-size: 24px;
        cursor: pointer;
        background: none;
        border: none;
        color: #777;
      }
      
      .close-btn:hover {
        color: #333;
      }
      
      .modal-body {
        padding: 20px;
      }
      
      .form-group {
        margin-bottom: 20px;
      }
      
      .form-group label {
        display: block;
        margin-bottom: 8px;
        font-weight: 600;
        color: #555;
      }
      
      .form-control {
        width: 100%;
        padding: 12px;
        border: 1px solid #ddd;
        border-radius: 4px;
        font-size: 16px;
        transition: border-color 0.3s;
      }
      
      .form-control:focus {
        border-color: #2196F3;
        outline: none;
      }
      
      .submit-btn {
        width: 100%;
        padding: 12px;
        background-color: #2196F3;
        color: white;
        border: none;
        border-radius: 4px;
        font-size: 16px;
        font-weight: 600;
        cursor: pointer;
        transition: background-color 0.3s;
      }
      
      .submit-btn:hover {
        background-color: #0d8bf2;
      }
      
      .form-footer {
        text-align: center;
        margin-top: 20px;
        color: #666;
      }
      
      .form-footer a {
        color: #2196F3;
        text-decoration: none;
        cursor: pointer;
        font-weight: 600;
      }
      
      .form-footer a:hover {
        text-decoration: underline;
      }
    </style>
</head>

<body>
  
<!-- jQuery and Bootstrap -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

<!-- Navbar -->
<header class="navbar">
  <div class="container nav-container">
    <div class="logo">
      <img src="sbi_logo.png" alt="SBI Logo">
      <span>Life Insurance</span>
    </div>
    <div class="nav-items">
      <ul class="nav-links">
        <li><a href="#">Home</a></li>
        <li><a href="documentation.html">Documentation</a></li>
        <div class="dropdown">
          <a id="dropdownBtn" class="dropdown-toggle">Detection</a>
          <ul class="dropdown-menu" id="dropdownMenu">
            <li><a href="manualEntry.html">Manual Data Entry</a></li>
            <li><a href="bulkUpload.html">Bulk Upload</a></li>
            <li><a href="signAuth.html">E-SignAuth</a></li>
          </ul>
        </div>
        <li><a href="https://fraud-analysis.onrender.com/">Analysis</a></li>
      </ul>
      <button class="signin-btn" id="signInBtn">Log In</button>
      <style>
        .signin-btn {
          background-color: #2e7dff ;
          color: #fff;
          padding: 10px 20px;
          border: none;
          border-radius: 6px;
          text-decoration: none;
          font-size: 16px;
          cursor: pointer;
        }
        .signin-btn:hover {
          background-color: #1b5e20;
        }
        
      </style>
    </div>
  </div>
</header>

<!-- Sign-in Modal -->
<div class="modal" id="signInModal">
  <div class="modal-content">
    <div class="modal-header">
      <h2 id="modalTitle">Log In</h2>
      <button class="close-btn" id="closeModal">&times;</button>
    </div>
    <div class="modal-body">
      <!-- Login Form -->
      <form id="loginForm">
        <div class="form-group">
          <label for="email">Email</label>
          <input type="email" id="email" class="form-control" required>
        </div>
        <div class="form-group">
          <label for="password">Password</label>
          <input type="password" id="password" class="form-control" required>
        </div>
        <button type="submit" class="submit-btn">Log In</button>
        <div class="form-footer">
          <p>Don't have an account? <a id="showRegister">Register here</a></p>
        </div>
      </form>
      
      <!-- Registration Form -->
      <form id="registerForm" style="display: none;">
        <div class="form-group">
          <label for="fullName">Full Name</label>
          <input type="text" id="fullName" class="form-control" required>
        </div>
        <div class="form-group">
          <label for="regEmail">Email</label>
          <input type="email" id="regEmail" class="form-control" required>
        </div>
        <div class="form-group">
          <label for="regPassword">Password</label>
          <input type="password" id="regPassword" class="form-control" required>
        </div>
        <div class="form-group">
          <label for="confirmPassword">Confirm Password</label>
          <input type="password" id="confirmPassword" class="form-control" required>
        </div>
        <button type="submit" class="submit-btn">Register</button>
        <div class="form-footer">
          <p>Already have an account? <a id="showLogin">Log In</a></p>
        </div>
      </form>
    </div>
  </div>
</div>

<!-- Hero Section -->
<section class="hero" data-aos="fade-up" data-aos-duration="1000">
  <div class="container hero-container">
    <div class="hero-text">
      <h1>Advanced Fraud Detection</h1>
      <p>Protect your business with our AI-powered fraud detection system. Identify suspicious activities in real-time and prevent financial losses before they happen.</p>
      
      <div class="hero-buttons">
        <a href="get-started.html" class="hero-btn">Get Started</a>
        <a href="watch-demo.html" class="hero-btn">Watch Demo</a>
      </div>
    </div>

    <div class="hero-image" data-aos="zoom-in" data-aos-delay="200">
      <img src="vis.webp" alt="Fraud Detection Dashboard">
    </div>

    <!-- âœ¨ New Feature Cards -->
    <div class="feature-cards">
      
      <a href="manualEntry.html" class="feature-card">
        <i class="fas fa-edit"></i>
        <h3>Manual Data Entry</h3>
        <p>Validate individual entries through a comprehensive form-based process with real-time validation checks.</p>
      </a>

      <a href="bulkUpload.html" class="feature-card">
        <i class="fas fa-upload"></i>
        <h3>Bulk Upload</h3>
        <p>Process multiple records simultaneously through file uploads with detailed validation reporting.</p>
      </a>

      <a href="signAuth.html" class="feature-card">
        <i class="fas fa-fingerprint"></i>
        <h3>E-SignAuth</h3>
        <p>Verify signature authenticity using advanced image processing and comparison algorithms.</p>
      </a>

      <a href="https://fraud-analysis.onrender.com/" class="feature-card">
        <i class="fas fa-chart-line"></i>
        <h3>Analysis Dashboard</h3>
        <p>Comprehensive visual analytics for monitoring fraud patterns, trends, and risk assessments.</p>
      </a>

    </div>

  </div>
</section>


<!-- Features Section -->
<section class="features">
  <div class="container">
    <div class="section-header" data-aos="fade-up">
      <h2>Powerful Fraud Protection Features</h2>
      <p>Our comprehensive suite of tools helps you identify, analyze, and prevent fraudulent activities.</p>
    </div>

    <!-- First Row -->
    <div class="feature-cards row">
      <div class="feature-card" data-aos="fade-right" data-aos-delay="100">
        <div class="feature-icon">
          <img src="realtime.png" alt="Real-time Detection">
        </div>
        <h3>Real-time Detection</h3>
        <p>Our system analyzes transactions in real-time to identify suspicious activities before they cause damage.</p>
      </div>

      <div class="feature-card" data-aos="fade-up" data-aos-delay="200">
        <div class="feature-icon">
          <img src="analytics.png" alt="Advanced Analytics">
        </div>
        <h3>Advanced Analytics</h3>
        <p>Gain insights into fraud patterns with comprehensive data visualization and analytics tools.</p>
      </div>

      <div class="feature-card" data-aos="fade-left" data-aos-delay="300">
        <div class="feature-icon">
          <img src="anomalydetection.png" alt="Anomaly Detection">
        </div>
        <h3>Anomaly Detection</h3>
        <p>Machine learning algorithms identify unusual patterns that may indicate fraudulent behavior.</p>
      </div>
    </div>

    <!-- Second Row -->
    <div class="feature-cards row">
      <div class="feature-card" data-aos="fade-right" data-aos-delay="400">
        <div class="feature-icon">
          <img src="riskscore.png" alt="Risk Scoring">
        </div>
        <h3>Risk Scoring</h3>
        <p>Every transaction is assigned a risk score based on multiple factors for quick assessment.</p>
      </div>

      <div class="feature-card" data-aos="fade-up" data-aos-delay="500">
        <div class="feature-icon">
          <img src="userbehaviour.png" alt="User Behavior Analysis">
        </div>
        <h3>User Behavior Analysis</h3>
        <p>Track and analyze user behaviors to detect suspicious changes in patterns.</p>
      </div>

      <div class="feature-card" data-aos="fade-left" data-aos-delay="600">
        <div class="feature-icon">
          <img src="continuousmonitoring.png" alt="Continuous Monitoring">
        </div>
        <h3>Continuous Monitoring</h3>
        <p>24/7 monitoring ensures your business is protected at all times from emerging threats.</p>
      </div>
    </div>

  </div>
</section>




<!-- Results Section -->
<section class="results">
  <div class="container">
    <div class="section-header" data-aos="fade-up">
      <h2>Proven Results</h2>
      <p>Our fraud detection system has helped businesses around the world protect their assets and customers.</p>
    </div>
    <div class="stats-panel">
      <div class="stat-item" data-aos="zoom-in" data-aos-delay="100">
        <h3>96%</h3>
        <p>Accuracy Rate</p>
      </div>
      <div class="stat-item" data-aos="zoom-in" data-aos-delay="200">
        <h3>0.99</h3>
        <p>F1 score for Claims Fraud</p>
      </div>
      <div class="stat-item" data-aos="zoom-in" data-aos-delay="300">
        <h3>0.028%</h3>
        <p> Avg. False Positive Rate</p>
      </div>
      <div class="stat-item" data-aos="zoom-in" data-aos-delay="400">
        <h3>24/7</h3>
        <p>Continuous Protection</p>
      </div>
    </div>
  </div>
</section>

<!-- Trusted By Section -->
<section class="trusted-by">
  <div class="container">
    <h2>Trusted Across Insurance Sectors</h2>
    <div class="client-logos">
      <div class="client-logo">
        <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="#555" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
          <path d="M16 4v16M8 4v16M12 4v16M4 4h16"></path>
          <path d="M4 4v16h16V4H4z"></path>
        </svg>
        <span class="industry-label">Life Insurance</span>
      </div>
      <div class="client-logo">
        <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="#555" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
          <path d="M19 21V5a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v16"></path>
          <path d="M12 11.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z"></path>
          <path d="M12 11.5V19"></path>
          <line x1="9" y1="17" x2="15" y2="17"></line>
        </svg>
        <span class="industry-label">Pension Plans</span>
      </div>
      <div class="client-logo">
        <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="#555" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
          <path d="M12 2a3 3 0 0 0-3 3v7h6V5a3 3 0 0 0-3-3z"></path>
          <path d="M19 9h2a2 2 0 0 1 0 4h-2"></path>
          <path d="M5 9H3a2 2 0 0 0 0 4h2"></path>
          <path d="M12 19a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"></path>
        </svg>
        <span class="industry-label">Health Plans</span>
      </div>
      <div class="client-logo">
        <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="#555" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
          <path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"></path>
        </svg>
        <span class="industry-label">Unit Linked</span>
      </div>
      <div class="client-logo">
        <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="#555" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
          <rect x="2" y="7" width="20" height="14" rx="2" ry="2"></rect>
          <path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path>
        </svg>
        <span class="industry-label">Group Insurance</span>
      </div>
      <div class="client-logo">
        <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="#555" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
          <path d="M3 9h18v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9Z"></path>
          <path d="m3 9 2.45-4.9A2 2 0 0 1 7.24 3h9.52a2 2 0 0 1 1.8 1.1L21 9"></path>
          <path d="M12 3v6"></path>
        </svg>
        <span class="industry-label">Term Plans</span>
      </div>
    </div>
    <p class="future-vision">Protecting SBI Life Insurance customers across all product lines</p>
  </div>
</section>

<style>
  .trusted-by {
    padding: 60px 0;
    background-color: #f5f7ff;
    text-align: center;
  }

  .trusted-by h2 {
    font-size: 36px;
    font-weight: 700;
    margin-bottom: 40px;
    color: #333;
  }

  .client-logos {
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
    gap: 25px;
  }

  .client-logo {
    width: 160px;
    height: 90px;
    background-color: #f0efea;
    border-radius: 8px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
    padding: 10px;
  }

  .industry-label {
    font-weight: 600;
    color: #555;
    font-size: 14px;
    margin-top: 8px;
    word-wrap: break-word; /* This will wrap the text if needed */
    text-align: center;    /* This aligns text in the center */
  }

  .client-logo:hover {
    background-color: #e6e5e0;
    transform: translateY(-3px);
    box-shadow: 0 4px 12px rgba(0,0,0,0.08);
  }

  .future-vision {
    margin-top: 30px;
    font-size: 18px;
    color: #666;
  }

  /* Responsive adjustments */
  @media (max-width: 768px) {
    .client-logos {
      gap: 15px;
    }

    .client-logo {
      width: 130px;
      height: 75px;
    }

    .industry-label {
      font-size: 12px;
    }
  }
</style>


<!-- CTA Section -->
<section class="cta" data-aos="fade-up">
  <div class="container">
    <div class="cta-content">
      <h2>Ready to stop fraud?</h2>
      <h3>Get started with SBI Fraud Detection and Prevention today.</h3>
    </div>
    <div class="cta-buttons">
      <button class="demo-btn">Let's get started</button>
      <button class="learn-more-btn">Learn more â†’</button>
    </div>
  </div>
</section>

<!-- Footer Section -->
<footer class="footer">
  <div class="container">
    <div class="footer-content">
      <div class="footer-item">
        <h4>About</h4>
        <ul>
          <li><a href="#">Company Info</a></li>
          <li><a href="#">Careers</a></li>
          <li><a href="#">Privacy Policy</a></li>
          <li><a href="#">Terms & Conditions</a></li>
        </ul>
      </div>
      <div class="footer-item">
        <h4>Contact</h4>
        <ul>
          <li><a href="#">Email Us</a></li>
          <li><a href="#">Support</a></li>
          <li><a href="#">FAQ</a></li>
        </ul>
      </div>
      <div class="footer-item">
        <h4>Follow Us</h4>
        <ul class="social-links">
          <li><a href="#"><i class="fab fa-facebook-f"></i> Facebook</a></li>
          <li><a href="#"><i class="fab fa-twitter"></i> Twitter</a></li>
          <li><a href="#"><i class="fab fa-linkedin-in"></i> LinkedIn</a></li>
        </ul>
      </div>
    </div>
    <div class="footer-bottom">
      <p>&copy; Made by Team The Quads</p>
    </div>
  </div>
  <style>
    .footer {
      background-color: #333;
      color: #fff;
      padding: 40px 0;
      font-size: 14px;
    }
  
    .footer .footer-content {
      display: flex;
      justify-content: space-between;
    }
  
    .footer .footer-item {
      width: 30%;
    }
  
    .footer .footer-item h4 {
      font-size: 18px;
      margin-bottom: 15px;
    }
  
    .footer .footer-item ul {
      list-style: none;
      padding: 0;
    }
  
    .footer .footer-item ul li {
      margin-bottom: 10px;
    }
  
    .footer .footer-item ul li a {
      color: #fff;
      text-decoration: none;
    }
  
    .footer .footer-item ul li a:hover {
      color: #ffd700;
    }
  
    .footer .footer-bottom {
      text-align: center;
      margin-top: 30px;
    }
  
    .footer .footer-bottom p {
      font-size: 16px;
    }
  
    .social-links {
      display: flex;
      gap: 15px;
    }
  
    .social-links li a {
      color: #fff;
      text-decoration: none;
    }
  
    .social-links li a i {
      margin-right: 8px;
    }
  
    .social-links li a:hover {
      color: #ffd700;
    }
  
    /* Responsive adjustments */
    @media (max-width: 768px) {
      .client-logos {
        gap: 15px;
      }
  
      .client-logo {
        width: 130px;
        height: 75px;
      }
  
      .industry-label {
        font-size: 12px;
      }
  
      .footer .footer-content {
        flex-direction: column;
        align-items: center;
      }
  
      .footer .footer-item {
        width: 100%;
        text-align: center;
        margin-bottom: 20px;
      }
  
      .footer .footer-bottom {
        font-size: 14px;
      }
    }
  </style>
</footer>

<!-- AOS Animation Script -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"></script>
<script>
  AOS.init({
    once: true, // Animation happens only once
    duration: 1000, // Animation duration
  });
  
  // Sign-in Modal JavaScript
  document.addEventListener('DOMContentLoaded', function() {
    // Get modal elements
    const modal = document.getElementById('signInModal');
    const signInBtn = document.getElementById('signInBtn');
    const closeBtn = document.getElementById('closeModal');
    const showRegisterBtn = document.getElementById('showRegister');
    const showLoginBtn = document.getElementById('showLogin');
    const loginForm = document.getElementById('loginForm');
    const registerForm = document.getElementById('registerForm');
    const modalTitle = document.getElementById('modalTitle');
    
    // Open modal
    signInBtn.addEventListener('click', function() {
      modal.style.display = 'flex';
    });
    
    // Close modal
    closeBtn.addEventListener('click', function() {
      modal.style.display = 'none';
    });
    
    // Close modal if clicked outside
    window.addEventListener('click', function(event) {
      if (event.target === modal) {
        modal.style.display = 'none';
      }
    });
    
    // Switch to registration form
    showRegisterBtn.addEventListener('click', function() {
      loginForm.style.display = 'none';
      registerForm.style.display = 'block';
      modalTitle.textContent = 'Register';
    });
    
    // Switch to login form
    showLoginBtn.addEventListener('click', function() {
      registerForm.style.display = 'none';
      loginForm.style.display = 'block';
      modalTitle.textContent = 'Sign In';
    });
    
    // Handle login form submission
    loginForm.addEventListener('submit', function(event) {
      event.preventDefault();
      const email = document.getElementById('email').value;
      const password = document.getElementById('password').value;
      
      // Here you would typically send the login data to your server
      console.log('Login attempt:', { email, password });
      
      // For demo purposes, just close the modal after "logging in"
      alert('Login successful!');
      modal.style.display = 'none';
    });
    
    // Handle registration form submission
    registerForm.addEventListener('submit', function(event) {
      event.preventDefault();
      const fullName = document.getElementById('fullName').value;
      const email = document.getElementById('regEmail').value;
      const password = document.getElementById('regPassword').value;
      const confirmPassword = document.getElementById('confirmPassword').value;
      
      // Check if passwords match
      if (password !== confirmPassword) {
        alert('Passwords do not match!');
        return;
      }
      
      // Here you would typically send the registration data to your server
      console.log('Registration attempt:', { fullName, email, password });
      
      // For demo purposes, switch to login form after "registering"
      alert('Registration successful! Please log in.');
      showLoginBtn.click();
    });
  });
</script>
!-- Add this before the closing body tag -->

<!-- Chatbot Icon and Interface -->
<div class="chatbot-container">
  <!-- Chatbot Icon -->
  <div class="chatbot-icon" id="chatbotIcon">
    <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
      <line x1="3" y1="9" x2="21" y2="9"></line>
      <line x1="9" y1="21" x2="9" y2="9"></line>
      <line x1="15" y1="21" x2="15" y2="9"></line>
    </svg>
    <span class="notification-badge" id="notificationBadge">1</span>
  </div>
  
  <!-- Chatbot Interface -->
  <div class="chatbot-interface" id="chatbotInterface">
    <div class="chatbot-header">
      <div class="chatbot-title">
        <img src="sbi_logo.png" alt="SBI Logo" class="chatbot-logo">
        <h3>SBI Fraud Detection Assistant</h3>
      </div>
      <div class="chatbot-controls">
        <button class="fullscreen-button" id="fullscreenButton">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"></path>
          </svg>
        </button>
        <button class="close-chatbot" id="closeChatbot">Ã—</button>
      </div>
    </div>
    
    <div class="chatbot-messages" id="chatbotMessages">
      <div class="message bot-message">
        <div class="message-content">
          <p>Welcome to SBI Fraud Detection Assistant! How can I help you today?</p>
        </div>
        <div class="message-time">Just now</div>
      </div>
    </div>
    
    <div class="chatbot-input">
      <input type="text" id="userInput" placeholder="Type your message...">
      <button id="sendMessage">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <line x1="22" y1="2" x2="11" y2="13"></line>
          <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
        </svg>
      </button>
    </div>
    
    <!-- Loading indicator for waiting for responses -->
    <div class="chatbot-loading" id="chatbotLoading">
      <div class="dot-typing"></div>
    </div>
    
    <!-- Resize handles -->
    <div class="resize-handle resize-handle-se"></div>
    <div class="resize-handle resize-handle-sw"></div>
    <div class="resize-handle resize-handle-ne"></div>
    <div class="resize-handle resize-handle-nw"></div>
  </div>
</div>

<!-- Add this style to your CSS -->
<style>
  /* Chatbot Styles */
  .chatbot-container {
    position: fixed;
    right: 20px;
    bottom: 20px;
    z-index: 1000;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
  }
  
  /* Chatbot Icon */
  .chatbot-icon {
    position: relative;
    width: 60px;
    height: 60px;
    background-color: #2196F3;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    color: white;
    transition: all 0.3s;
  }
  
  .chatbot-icon:hover {
    background-color: #0d8bf2;
    transform: scale(1.05);
  }
  
  .notification-badge {
    position: absolute;
    top: 0;
    right: 0;
    background-color: #ff4757;
    color: white;
    font-size: 12px;
    font-weight: bold;
    width: 20px;
    height: 20px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  
  /* Chatbot Interface */
  .chatbot-interface {
    position: absolute;
    bottom: 80px;
    right: 0;
    width: 350px;
    height: 450px;
    background-color: #fff;
    border-radius: 12px;
    box-shadow: 0 5px 20px rgba(0,0,0,0.15);
    display: none;
    flex-direction: column;
    overflow: hidden;
    border: 1px solid #e0e0e0;
    resize: both;
    min-width: 300px;
    min-height: 400px;
    max-width: 90vw;
    max-height: 90vh;
  }
  
  /* Fullscreen mode */
  .chatbot-interface.fullscreen {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    width: 100%;
    height: 100%;
    max-width: 100%;
    max-height: 100%;
    border-radius: 0;
    z-index: 1001;
  }
  
  /* Chatbot Header */
  .chatbot-header {
    padding: 15px;
    background-color: #2196F3;
    color: white;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
  
  .chatbot-title {
    display: flex;
    align-items: center;
  }
  
  .chatbot-logo {
    width: 32px;
    height: 32px;
    margin-right: 10px;
    border-radius: 4px;
    object-fit: contain;
    background-color: white;
    padding: 2px;
  }
  
  .chatbot-header h3 {
    margin: 0;
    font-size: 16px;
    font-weight: 600;
  }
  
  .chatbot-controls {
    display: flex;
    align-items: center;
  }
  
  .fullscreen-button {
    background: none;
    border: none;
    color: white;
    cursor: pointer;
    margin-right: 10px;
    padding: 4px;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  
  .fullscreen-button:hover {
    background-color: rgba(255,255,255,0.1);
    border-radius: 4px;
  }
  
  .close-chatbot {
    background: none;
    border: none;
    color: white;
    font-size: 24px;
    cursor: pointer;
    padding: 0;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  
  .close-chatbot:hover {
    opacity: 0.8;
  }
  
  /* Chatbot Messages Area */
  .chatbot-messages {
    flex: 1;
    padding: 15px;
    overflow-y: auto;
    background-color: #f5f7ff;
  }
  
  /* Message Styles */
  .message {
    margin-bottom: 15px;
    display: flex;
    flex-direction: column;
  }
  
  .message-content {
    max-width: 80%;
    padding: 10px 15px;
    border-radius: 18px;
    position: relative;
  }
  
  .message-time {
    font-size: 11px;
    color: #999;
    margin-top: 4px;
  }
  
  /* Bot Message */
  .bot-message {
    align-items: flex-start;
  }
  
  .bot-message .message-content {
    background-color: white;
    box-shadow: 0 1px 2px rgba(0,0,0,0.1);
  }
  
  .bot-message .message-time {
    margin-left: 10px;
  }
  
  /* User Message */
  .user-message {
    align-items: flex-end;
  }
  
  .user-message .message-content {
    background-color: #2196F3;
    color: white;
  }
  
  .user-message .message-time {
    margin-right: 10px;
    text-align: right;
  }
  
  /* Chatbot Input Area */
  .chatbot-input {
    padding: 15px;
    display: flex;
    align-items: center;
    border-top: 1px solid #e0e0e0;
    background-color: white;
  }
  
  .chatbot-input input {
    flex: 1;
    padding: 10px 15px;
    border: 1px solid #e0e0e0;
    border-radius: 20px;
    font-size: 14px;
    outline: none;
  }
  
  .chatbot-input input:focus {
    border-color: #2196F3;
  }
  
  .chatbot-input button {
    background-color: #2196F3;
    color: white;
    border: none;
    width: 36px;
    height: 36px;
    border-radius: 50%;
    margin-left: 10px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background-color 0.3s;
  }
  
  .chatbot-input button:hover {
    background-color: #0d8bf2;
  }
  
  /* Loading Animation */
  .chatbot-loading {
    position: absolute;
    bottom: 70px;
    left: 15px;
    display: none;
  }
  
  .dot-typing {
    position: relative;
    left: -9999px;
    width: 8px;
    height: 8px;
    border-radius: 5px;
    background-color: #2196F3;
    color: #2196F3;
    box-shadow: 9984px 0 0 0 #2196F3, 9999px 0 0 0 #2196F3, 10014px 0 0 0 #2196F3;
    animation: dot-typing 1.5s infinite linear;
  }
  
  @keyframes dot-typing {
    0% {
      box-shadow: 9984px 0 0 0 #2196F3, 9999px 0 0 0 #2196F3, 10014px 0 0 0 #2196F3;
    }
    16.667% {
      box-shadow: 9984px -10px 0 0 #2196F3, 9999px 0 0 0 #2196F3, 10014px 0 0 0 #2196F3;
    }
    33.333% {
      box-shadow: 9984px 0 0 0 #2196F3, 9999px 0 0 0 #2196F3, 10014px 0 0 0 #2196F3;
    }
    50% {
      box-shadow: 9984px 0 0 0 #2196F3, 9999px -10px 0 0 #2196F3, 10014px 0 0 0 #2196F3;
    }
    66.667% {
      box-shadow: 9984px 0 0 0 #2196F3, 9999px 0 0 0 #2196F3, 10014px 0 0 0 #2196F3;
    }
    83.333% {
      box-shadow: 9984px 0 0 0 #2196F3, 9999px 0 0 0 #2196F3, 10014px -10px 0 0 #2196F3;
    }
    100% {
      box-shadow: 9984px 0 0 0 #2196F3, 9999px 0 0 0 #2196F3, 10014px 0 0 0 #2196F3;
    }
  }
  
  /* Resize handles */
  .resize-handle {
    position: absolute;
    width: 16px;
    height: 16px;
    background-color: transparent;
    z-index: 2;
  }
  
  .resize-handle:hover {
    cursor: nwse-resize;
  }
  
  .resize-handle-se {
    bottom: 0;
    right: 0;
    cursor: se-resize;
  }
  
  .resize-handle-sw {
    bottom: 0;
    left: 0;
    cursor: sw-resize;
  }
  
  .resize-handle-ne {
    top: 0;
    right: 0;
    cursor: ne-resize;
  }
  
  .resize-handle-nw {
    top: 0;
    left: 0;
    cursor: nw-resize;
  }
  
  /* Show resize arrows on hover */
  .chatbot-interface:hover .resize-handle::after {
    content: "";
    position: absolute;
    width: 8px;
    height: 8px;
    border-style: solid;
    border-width: 2px;
    border-radius: 1px;
  }
  
  .chatbot-interface:hover .resize-handle-se::after {
    right: 4px;
    bottom: 4px;
    border-color: transparent #2196F3 #2196F3 transparent;
  }
  
  .chatbot-interface:hover .resize-handle-sw::after {
    left: 4px;
    bottom: 4px;
    border-color: transparent transparent #2196F3 #2196F3;
  }
  
  .chatbot-interface:hover .resize-handle-ne::after {
    right: 4px;
    top: 4px;
    border-color: #2196F3 #2196F3 transparent transparent;
  }
  
  .chatbot-interface:hover .resize-handle-nw::after {
    left: 4px;
    top: 4px;
    border-color: #2196F3 transparent transparent #2196F3;
  }
  
  /* Responsive Adjustments */
  @media (max-width: 480px) {
    .chatbot-interface {
      width: calc(100vw - 40px);
      right: 0;
      bottom: 80px;
    }
    
    .chatbot-interface.fullscreen {
      width: 100vw;
      height: 100vh;
    }
  }
</style>

<!-- Add this JavaScript before the closing body tag -->
<script>
  document.addEventListener('DOMContentLoaded', function() {
    // Get chatbot elements
    const chatbotIcon = document.getElementById('chatbotIcon');
    const chatbotInterface = document.getElementById('chatbotInterface');
    const closeChatbot = document.getElementById('closeChatbot');
    const userInput = document.getElementById('userInput');
    const sendMessage = document.getElementById('sendMessage');
    const chatbotMessages = document.getElementById('chatbotMessages');
    const notificationBadge = document.getElementById('notificationBadge');
    const chatbotLoading = document.getElementById('chatbotLoading');
    const fullscreenButton = document.getElementById('fullscreenButton');
    
    // Backend API URLs
    const API_BASE_URL = 'http://127.0.0.1:5000';  // Adjust this to your backend URL if deployed
    
    // Store session ID
    let sessionId = '';
    
    // Initialize chat session when chatbot is first opened
    async function initChatSession() {
      try {
        const response = await fetch(`${API_BASE_URL}/chat/start`, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          }
        });
        
        if (!response.ok) {
          throw new Error('Failed to initialize chat session');
        }
        
        const data = await response.json();
        sessionId = data.session_id;
        console.log('Chat session initialized with ID:', sessionId);
      } catch (error) {
        console.error('Error initializing chat session:', error);
        addMessage('Sorry, I had trouble connecting to the server. Please try again later.', 'bot');
      }
    }
    
    // Load chat history if session exists
    async function loadChatHistory() {
      if (!sessionId) return;
      
      try {
        const response = await fetch(`${API_BASE_URL}/chat/history/${sessionId}`);
        
        if (!response.ok) {
          if (response.status === 404) {
            // Session expired or not found, create new session
            await initChatSession();
            return;
          }
          throw new Error('Failed to load chat history');
        }
        
        const data = await response.json();
        
        // Clear existing messages except the welcome message
        while (chatbotMessages.children.length > 1) {
          chatbotMessages.removeChild(chatbotMessages.lastChild);
        }
        
        // Add messages from history
        data.chat_history.forEach(item => {
          addMessage(item.query, 'user');
          addMessage(item.response, 'bot');
        });
      } catch (error) {
        console.error('Error loading chat history:', error);
      }
    }
    
    // Toggle chatbot interface
    chatbotIcon.addEventListener('click', function() {
      if (chatbotInterface.style.display === 'flex') {
        chatbotInterface.style.display = 'none';
      } else {
        chatbotInterface.style.display = 'flex';
        // Hide notification badge when chat is opened
        notificationBadge.style.display = 'none';
        // Focus on input
        userInput.focus();
        
        // Initialize session if it doesn't exist
        if (!sessionId) {
          initChatSession();
        } else {
          loadChatHistory();
        }
      }
    });
    
    // Close chatbot
    closeChatbot.addEventListener('click', function() {
      chatbotInterface.style.display = 'none';
    });
    
    // Toggle fullscreen mode
    fullscreenButton.addEventListener('click', function() {
      chatbotInterface.classList.toggle('fullscreen');
      
      // Change fullscreen button icon based on state
      if (chatbotInterface.classList.contains('fullscreen')) {
        fullscreenButton.innerHTML = `
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"></path>
          </svg>
        `;
      } else {
        fullscreenButton.innerHTML = `
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"></path>
          </svg>
        `;
      }
      
      // Scroll to bottom of messages
      chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
    });
    
    // Send message function
    async function sendUserMessage() {
      const message = userInput.value.trim();
      if (message === '') return;
      
      // Add user message to chat
      addMessage(message, 'user');
      
      // Clear input
      userInput.value = '';
      
      // Show loading indicator
      chatbotLoading.style.display = 'block';
      
      try {
        // Initialize session if it doesn't exist
        if (!sessionId) {
          await initChatSession();
        }
        
        // Send message to backend
        const response = await fetch(`${API_BASE_URL}/chat`, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify({
            query: message,
            session_id: sessionId
          })
        });
        
        if (!response.ok) {
          throw new Error('Failed to get response from server');
        }
        
        const data = await response.json();
        
        // Hide loading indicator
        chatbotLoading.style.display = 'none';
        
        // Add bot response to chat
        addMessage(data.response, 'bot');
      } catch (error) {
        console.error('Error sending message:', error);
        
        // Hide loading indicator
        chatbotLoading.style.display = 'none';
        
        // Add error message
        addMessage('Sorry, I experienced a technical issue. Please try again later.', 'bot');
      }
    }
    
    // Send message on button click
    sendMessage.addEventListener('click', sendUserMessage);
    
    // Send message on Enter key
    userInput.addEventListener('keypress', function(e) {
      if (e.key === 'Enter') {
        sendUserMessage();
      }
    });
    
    function addMessage(message, sender) {
      const messageElement = document.createElement('div');
      messageElement.classList.add('message');
    
      const contentDiv = document.createElement('div');
      contentDiv.classList.add('message-content');
    
      const paragraph = document.createElement('p');
    
      // Parse basic markdown manually:
      let formattedMessage = message
        .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')    // Bold **text**
        .replace(/_(.*?)_/g, '<em>$1</em>')                  // Italic _text_
        .replace(/`(.*?)`/g, '<code>$1</code>')              // Inline code `text`
        .replace(/\n/g, '<br>')                              // New lines
        .replace(/^\s*\*\s(.*)$/gm, '<li>$1</li>')            // Bulleted list items
        .replace(/^\s*\d+\.\s(.*)$/gm, '<li>$1</li>');        // Numbered list items
    
      // Wrap <li> elements inside <ul> or <ol> appropriately
      if (formattedMessage.includes('<li>')) {
        // Check if original message had numbered list or bullet list
        if (/^\s*\d+\.\s/m.test(message)) {
          formattedMessage = `<ol>${formattedMessage}</ol>`;  // Ordered list for numbers
        } else {
          formattedMessage = `<ul>${formattedMessage}</ul>`;  // Unordered list for bullets
        }
      }
    
      paragraph.innerHTML = formattedMessage;
    
      contentDiv.appendChild(paragraph);
    
      const timeDiv = document.createElement('div');
      timeDiv.classList.add('message-time');
      timeDiv.textContent = getCurrentTime();
    
      if (sender === 'user') {
        messageElement.classList.add('user-message');
      } else {
        messageElement.classList.add('bot-message');
      }
    
      messageElement.appendChild(contentDiv);
      messageElement.appendChild(timeDiv);
    
      chatbotMessages.appendChild(messageElement);
    
      // Scroll to the bottom
      chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
    }
    
    
    // Get current time in HH:MM format
    function getCurrentTime() {
      const now = new Date();
      const hours = now.getHours().toString().padStart(2, '0');
      const minutes = now.getMinutes().toString().padStart(2, '0');
      return `${hours}:${minutes}`;
    }
    
    // Setup manual resize functionality
    function setupResizeHandlers() {
      const resizeHandles = document.querySelectorAll('.resize-handle');
      
      resizeHandles.forEach(handle => {
        handle.addEventListener('mousedown', initResize);
      });
      
      function initResize(e) {
        e.preventDefault();
        
        // Prevent resizing in fullscreen mode
        if (chatbotInterface.classList.contains('fullscreen')) {
          return;
        }
        
        const resizeType = e.target.className.split(' ')[1]; // Get the resize handle class (e.g., resize-handle-se)
        const startX = e.clientX;
        const startY = e.clientY;
        const startWidth = parseInt(document.defaultView.getComputedStyle(chatbotInterface).width, 10);
        const startHeight = parseInt(document.defaultView.getComputedStyle(chatbotInterface).height, 10);
        const startTop = chatbotInterface.getBoundingClientRect().top;
        const startLeft = chatbotInterface.getBoundingClientRect().left;
        
        document.documentElement.addEventListener('mousemove', doResize);
        document.documentElement.addEventListener('mouseup', stopResize);
        
        function doResize(e) {
          let newWidth, newHeight;
          
          // Calculate new dimensions based on resize handle type
          switch(resizeType) {
            case 'resize-handle-se':
              newWidth = startWidth + (e.clientX - startX);
              newHeight = startHeight + (e.clientY - startY);
              break;
            case 'resize-handle-sw':
              newWidth = startWidth - (e.clientX - startX);
              newHeight = startHeight + (e.clientY - startY);
              chatbotInterface.style.left = (startLeft + (e.clientX - startX)) + 'px';
              break;
            case 'resize-handle-ne':
              newWidth = startWidth + (e.clientX - startX);
              newHeight = startHeight - (e.clientY - startY);
              chatbotInterface.style.top = (startTop + (e.clientY - startY)) + 'px';
              break;
            case 'resize-handle-nw':
              newWidth = startWidth - (e.clientX - startX);
              newHeight = startHeight - (e.clientY - startY);
              chatbotInterface.style.top = (startTop + (e.clientY - startY)) + 'px';
              chatbotInterface.style.left = (startLeft + (e.clientX - startX)) + 'px';
              break;
          }
          
          // Apply min/max constraints
          const minWidth = 300;
          const minHeight = 400;
          const maxWidth = window.innerWidth * 0.9;
          const maxHeight = window.innerHeight * 0.9;
          
          newWidth = Math.max(minWidth, Math.min(newWidth, maxWidth));
          newHeight = Math.max(minHeight, Math.min(newHeight, maxHeight));
          
          // Apply new dimensions
          chatbotInterface.style.width = newWidth + 'px';
          chatbotInterface.style.height = newHeight + 'px';
          
          // Scroll to bottom of messages
          chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
        }
        
        function stopResize() {
          document.documentElement.removeEventListener('mousemove', doResize);
          document.documentElement.removeEventListener('mouseup', stopResize);
        }
      }
    }
    
    // Initialize resize handlers
    setupResizeHandlers();
    
    // Setup fallback logic in case backend is unavailable
    function setupFallbackMode() {
      // Define simple fallback responses
      const fallbackResponses = {
        'hello': 'Hello! How can I help you with SBI Fraud Detection today?',
        'hi': 'Hi there! How can I assist you with fraud detection?',
        'help': 'I can help you understand SBI\'s fraud detection services, explain how to report suspicious activities, or provide general information about our security features.',
        'fraud': 'SBI\'s fraud detection system uses advanced AI to identify suspicious patterns and activities. We monitor transactions 24/7 to keep your accounts safe.',
        'contact': 'You can reach our support team at support@sbifraud.com or call our hotline at 1-800-SBI-HELP.',
        'report': 'To report suspicious activity, please use the \'Manual Data Entry\' feature in the Detection menu or contact our 24/7 fraud reporting line.',
        'thank': 'You\'re welcome! Is there anything else I can help you with?',
        'bye': 'Thank you for chatting with SBI Fraud Detection Assistant. Have a great day!'
      };
      
      // Fallback send message function when backend is unavailable
      async function fallbackSendMessage() {
        const message = userInput.value.trim();
        if (message === '') return;
        
        // Add user message to chat
        addMessage(message, 'user');
        
        // Clear input
        userInput.value = '';
        
        // Show loading indicator
        chatbotLoading.style.display = 'block';
        
        // Simulate processing delay
        setTimeout(() => {
          // Hide loading indicator
          chatbotLoading.style.display = 'none';
          
          // Generate fallback response
          let botResponse = 'I\'m currently operating in offline mode. Please try again later when our servers are available.';
          
          // Check for keyword matches
          const messageLower = message.toLowerCase();
          for (const [keyword, response] of Object.entries(fallbackResponses)) {
            if (messageLower.includes(keyword)) {
              botResponse = response;
              break;
            }
          }
          
          // Add bot response to chat
          addMessage(botResponse, 'bot');
        }, 1000);
      }
      
      // Test backend connection
      fetch(`${API_BASE_URL}/chat/start`, {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        }
      })
      .then(response => {
        if (!response.ok) {
          throw new Error('Backend unavailable');
        }
        // Backend is available, use normal functionality
        return response.json();
      })
      .then(data => {
        sessionId = data.session_id;
        console.log('Chat session initialized with ID:', sessionId);
      })
      .catch(error => {
        console.warn('Backend unavailable, switching to fallback mode:', error);
        // Override the sendUserMessage function with fallback version
        window.sendUserMessage = fallbackSendMessage;
        
       // Replace event listeners
       sendMessage.removeEventListener('click', sendUserMessage);
       sendMessage.addEventListener('click', fallbackSendMessage);
       
       userInput.removeEventListener('keypress', function(e) {
         if (e.key === 'Enter') sendUserMessage();
       });
       
       userInput.addEventListener('keypress', function(e) {
         if (e.key === 'Enter') fallbackSendMessage();
       });
       
       // Add a message to inform user
       setTimeout(() => {
         addMessage('I\'m currently in offline mode. Some features may be limited.', 'bot');
       }, 1000);
     });
   }
   
   // Check for backend availability when page loads
   setupFallbackMode();
   
   // Make chatbot draggable when not in fullscreen mode
   function makeDraggable() {
     let isDragging = false;
     let offsetX, offsetY;
     
     // Only allow dragging by the header
     const chatbotHeader = chatbotInterface.querySelector('.chatbot-header');
     
     chatbotHeader.addEventListener('mousedown', startDrag);
     
     function startDrag(e) {
       // Don't drag in fullscreen mode
       if (chatbotInterface.classList.contains('fullscreen')) {
         return;
       }
       
       // Ignore if clicking on buttons
       if (e.target.closest('button')) {
         return;
       }
       
       e.preventDefault();
       
       // Get the initial mouse position and chatbot position
       isDragging = true;
       offsetX = e.clientX - chatbotInterface.getBoundingClientRect().left;
       offsetY = e.clientY - chatbotInterface.getBoundingClientRect().top;
       
       document.addEventListener('mousemove', doDrag);
       document.addEventListener('mouseup', stopDrag);
       
       // Add a dragging class for visual feedback
       chatbotInterface.classList.add('dragging');
     }
     
     function doDrag(e) {
       if (!isDragging) return;
       
       // Calculate new position
       const x = e.clientX - offsetX;
       const y = e.clientY - offsetY;
       
       // Apply constraints to keep within window
       const maxX = window.innerWidth - chatbotInterface.offsetWidth;
       const maxY = window.innerHeight - chatbotInterface.offsetHeight;
       
       const boundedX = Math.max(0, Math.min(x, maxX));
       const boundedY = Math.max(0, Math.min(y, maxY));
       
       // Update position
       chatbotInterface.style.left = boundedX + 'px';
       chatbotInterface.style.top = boundedY + 'px';
       chatbotInterface.style.right = 'auto';
       chatbotInterface.style.bottom = 'auto';
     }
     
     function stopDrag() {
       isDragging = false;
       document.removeEventListener('mousemove', doDrag);
       document.removeEventListener('mouseup', stopDrag);
       chatbotInterface.classList.remove('dragging');
     }
   }
   
   // Initialize draggable functionality
   makeDraggable();
 });
</script>  

</body>
</html>
